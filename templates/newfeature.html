<!DOCTYPE html>
<html lang="en">

<head>
    <title>CS50 Project</title>
    <link rel="stylesheet" href="/static/style.css" />
</head>

<body>
    <!-- Page content -->
    <div>
        <h1>Feature Engineering</h1>
        <!-- <p>Create new variables based on existing ones for multivariate plots.</p> -->
        <!-- select variable type -->
        {% if vars != None %}
        <div>
            <form method="GET" action="/newfeature">
                <label for="selected-var1">Select one variable:</label>
                <select required name="selected-var1" id="selected-var1">
                    {% for col in vars %}
                    <option value={{col}}>{{col}}</option>
                    {% endfor %}
                </select>
                <input type="submit" value="Submit">
            </form>
        </div>
        <!-- select method -->
        {% else %}
        <div>
            <p>Selected variable is {{selectedvar}}</p>
            {% if method == None %}
            <div>
                <p>Here's all the formula to create a new variable based on the {{vartype}} variable.</p>
                <form method="GET" action="/newfeature">
                    <input type="hidden" name="selected-var1" value={{selectedvar}}>
                    <label for="selected-method">Select method:</label>
                    <select required name="selected-method" id="selected-method">
                        {% for option in options %}
                        <option value={{option}}>{{option}}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" value="Submit">
                </form>
            </div>

            {% else %}
            <div>
                <p>Selected method is {{method}}</p>
                <p>New variable {{newcreated}} is created!</p>
            </div>
            {% endif %}
        </div>
        {% endif %}

        <div>
            <!-- back to select variable -->
            <br>
            <form method="GET" action="/selectvariable">
                <input type="submit" value="Back to select variable">
            </form>

            <!-- reset button -->
            <br>
            <form method="GET" action="/">
                <input type="submit" value="Reset">
            </form>
        </div>
    </div>
</body>

</html>